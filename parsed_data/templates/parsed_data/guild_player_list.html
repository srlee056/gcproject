{% load static %}
<html>
    <head>
        <title>Party Caculator</title>
        
        
    </head>

    <style>
        
        div.left {
            width: 450px;
            float: left;
            
        }
        div.right {
            float : right;
            width : 100%;
            margin-left : -450px;
            padding-left : 450px;
            box-sizing : border-box;
            
        }
        table, td, tr {
          border: 1px solid rgb(230, 233, 207);
        }
        .dropbox1{
            border: 2px solid rgb(140, 151, 53);
            width: 400px;
            padding:10px;
            margin: 10px;
            height :100%;
            overflow-y: scroll;
        }
        .dropbox2{
         
            width: 90%;
            height: 350px;
            border: 2px solid rgb(167, 167, 223);
            overflow-y: scroll;
        }
        .partyBox{
            width:32%;
            float:left;
            padding-bottom: 10px;
        }
        .partyHeader{
            text-align:center;
            color: rgb(167, 167, 223);
            width: 90%;
            

        }
        .test{
            white-space: nowrap;
            padding:10px;
            margin: 10px;
            border: 2px solid pink;
            overflow: auto;
            height :100%
        
        }
    </style>


    <body>

        <div>
            
            <div class = left>
                <button>추가</button>
                <div class = dropbox1 ondrop="drop(event);" ondragover="dragEnter(event);">
                {% for player in players %}

                <div >   
                    <div id = "{{player.name}}" draggable="true" ondragstart="drag(event);">
                            <span width="80"><img src="{{player.imgSrc}}" height="45"></span>
                            
                            <span width="120" height="45">
                                <a href="{% url 'guild:detail' player.id %}"> {{player.name}} </a>
                                 </span>
                            <span width="200" height="45">{{player.character}} </span>
                            <span width="50" height="45">{{player.level}} </span>
                    </div>  
                    
                </div>
                {% endfor %}
                </div>  
            </div>
            
            
            <div class = right> 
                <button>저장</button>
                <div class = test>
                    <div class = partyBox>
                        <div class = partyHeader width>1파티</div>
                        <div class = dropbox2 id = p1 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>
                    </div>  
                    <div class = partyBox>
                        
                        <div class = partyHeader>2파티</div>
                        <div class = dropbox2 id = p2 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>  
                    </div>      
                    
                    <div class = partyBox>
                        
                        <div class = partyHeader>3파티</div>
                        <div class = dropbox2 id = p3 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>  
                    </div>
                    <div class = partyBox>
                        <div class = partyHeader width>4파티</div>
                        <div class = dropbox2 id = p1 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>
                    </div>  
                    <div class = partyBox>
                        
                        <div class = partyHeader>5파티</div>
                        <div class = dropbox2 id = p2 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>  
                    </div>      
                    
                    <div class = partyBox>
                        
                        <div class = partyHeader>6파티</div>
                        <div class = dropbox2 id = p3 ondrop="drop(event);" ondragover="dragEnter(event);">
                            <p></p>
                        </div>  
                    </div>        
                </div>  
    
                
            </div>
           
          
        </div>
        

        
        <script>
            function dragEnter(ev) {
                ev.preventDefault();
            }
    
            function drag(ev) {
                ev.dataTransfer.setData('text', ev.target.id);
            }
    
            function drop(ev) {
                ev.preventDefault();
                var data = ev.dataTransfer.getData('text');
                ev.target.appendChild(document.getElementById(data));
            }

        </script>

    </body>

</html>